import numpy as np
from lib.config import config as cfg

if cfg.FLAGS.dataset=='DOSR':
    # cls_weight_L2 = {0: 1.0, 1: 0.8787023111522396, 2: 0.8787020122244147, 3: 0.8842118487320715, 4: 0.8787013202190359,
    #                  5: 0.9259691455995231, 6: 1.0433146933058528, 7: 0.8787014687501231, 8: 1.715124743862907,
    #                  9: 0.8787013202208089, 10: 0.878703571695022, 11: 0.8788523996139161, 12: 1.0008974335166527,
    #                  13: 0.8879437535631367, 14: 0.8999855893426421, 15: 1.9117167518170022, 16: 0.8788015435764442,
    #                  17: 1.0648661313678385, 18: 0.8787013202190359, 19: 0.878701320550874, 20: 0.8787013206704599}
    cls_weight_L2 = {0: 1.0, 1: 0.6564009080011852, 2: 0.6560060796095722, 3: 0.7556822611601683, 4: 0.6534187449877877,
                     5: 0.946739591120354, 6: 1.26438727573509, 7: 0.654827559940641, 8: 2.6523132584967373,
                     9: 0.6534349217436418, 10: 0.6575460940364453, 11: 0.6756481259132024, 12: 1.1601615091936832,
                     13: 0.7831217444282444, 14: 0.8473028421595135, 15: 3.0351579384118486, 16: 0.6722351482975533,
                     17: 1.3150893282194256, 18: 0.6534187449636347, 19: 0.6535457748849991,
                     20: 0.6535621486962762}  # 0.97
elif cfg.FLAGS.dataset=='HRSC2016':
    cls_weight_L2 = {0: 1.0, 1: 0.1, 2: 0.1, 3: 0.1, 4: 0.1, 5: 0.92974378, 6: 0.92981503, 7: 0.9593753, 8: 0.92972758,
                     9: 0.92973821, 10: 0.92972758,
                     11: 0.93362505, 12: 0.92972758, 13: 1.42744788, 14: 0.92981503, 15: 0.92972774, 16: 0.93362505,
                     17: 0.92980628,
                     18: 0.96660556, 19: 0.1, 20: 0.1, 21: 0.92972758, 22: 0.1, 23: 1.51772556, 24: 1.00163474,
                     25: 0.9422623,
                     26: 1.02014215}  # best
else:
    raise NotImplementedError('We only provide best class weight for DOSR and HRSC2016.\nplease check your dataset name in config.\n'
                              'If you want to train other dataset, please change the class weight by yourself.')

def get_weight(labels):
    weight = np.ones_like(labels,dtype='float32')
    i = 0
    for it in labels:
        weight[i]= cls_weight_L2[it]
        i = i+1
    return weight


